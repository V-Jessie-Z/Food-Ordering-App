{"ast":null,"code":"import _asyncToGenerator from \"/Users/JessicaZimondi/Documents/GitHub/Food-Ordering-App/myApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { HelpModalPage } from './help-modal/help-modal.page';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ionic/angular\";\nimport * as i2 from \"@ionic/storage-angular\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction AccountPage_ion_item_46_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-item\")(1, \"ion-label\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ion-label\", 4);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"ion-label\", 4);\n    i0.ɵɵtext(6, \"University of Pretoria\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"ion-button\", 15);\n    i0.ɵɵlistener(\"click\", function AccountPage_ion_item_46_Template_ion_button_click_7_listener() {\n      const order_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.reorder(order_r2));\n    });\n    i0.ɵɵtext(8, \"Reorder\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const order_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(order_r2.dish);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"R\", order_r2.price, \"\");\n  }\n}\nexport let AccountPage = /*#__PURE__*/(() => {\n  class AccountPage {\n    constructor(modalController, alertController, storage, router, navCtrl) {\n      this.modalController = modalController;\n      this.alertController = alertController;\n      this.storage = storage;\n      this.router = router;\n      this.navCtrl = navCtrl;\n      this.userDetails = {\n        name: 'John Doe',\n        email: 'johndoe@gmail.com',\n        phone: '+27 66 884 3929',\n        address: 'University of Pretoria'\n      };\n      // Declarations\n      this.pastOrders = [];\n    }\n    ngOnInit() {\n      this.loadPastOrders();\n    }\n    //Get Help Modal\n    openHelpModal() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        const modal = yield _this.modalController.create({\n          component: HelpModalPage,\n          cssClass: 'my-custom-class'\n        });\n        yield modal.present();\n      })();\n    }\n    //Edit User details Modal \n    editUserDetails() {\n      var _this2 = this;\n      return _asyncToGenerator(function* () {\n        const alert = yield _this2.alertController.create({\n          header: 'Edit User Details',\n          inputs: [{\n            name: 'name',\n            type: 'text',\n            placeholder: 'Name',\n            value: _this2.userDetails.name\n          }, {\n            name: 'email',\n            type: 'email',\n            placeholder: 'Email',\n            value: _this2.userDetails.email\n          }, {\n            name: 'phone',\n            type: 'tel',\n            placeholder: 'Phone',\n            value: _this2.userDetails.phone\n          }, {\n            name: 'address',\n            type: 'text',\n            placeholder: 'Address',\n            value: _this2.userDetails.address\n          }],\n          buttons: [{\n            text: 'Cancel',\n            role: 'cancel'\n          }, {\n            text: 'Save',\n            handler: data => {\n              _this2.userDetails.name = data.name;\n              _this2.userDetails.email = data.email;\n              _this2.userDetails.phone = data.phone;\n              _this2.userDetails.address = data.address;\n            }\n          }]\n        });\n        yield alert.present();\n      })();\n    }\n    //Load and ReOrder Past Orders \n    ionViewWillEnter() {\n      this.loadPastOrders();\n    }\n    loadPastOrders() {\n      const pastOrdersString = localStorage.getItem('pastOrders');\n      if (pastOrdersString) {\n        this.pastOrders = JSON.parse(pastOrdersString);\n      }\n    }\n    reorder(order) {\n      localStorage.setItem('order', JSON.stringify(order));\n      this.navCtrl.navigateForward('/tabs/cart');\n    }\n    static #_ = this.ɵfac = function AccountPage_Factory(t) {\n      return new (t || AccountPage)(i0.ɵɵdirectiveInject(i1.ModalController), i0.ɵɵdirectiveInject(i1.AlertController), i0.ɵɵdirectiveInject(i2.Storage), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i1.NavController));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AccountPage,\n      selectors: [[\"app-account\"]],\n      decls: 47,\n      vars: 7,\n      consts: [[3, \"translucent\"], [3, \"fullscreen\"], [\"collapse\", \"condense\"], [\"size\", \"large\"], [\"slot\", \"end\"], [3, \"click\"], [\"slot\", \"icon-only\", \"name\", \"help-circle-outline\"], [\"fill\", \"clear\", 2, \"float\", \"right\", 3, \"click\"], [\"type\", \"text\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"email\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"tel\", 3, \"ngModelChange\", \"ngModel\"], [3, \"ngModelChange\", \"ngModel\"], [\"name\", \"home-outline\"], [\"name\", \"chevron-forward\", \"slot\", \"end\"], [4, \"ngFor\", \"ngForOf\"], [\"fill\", \"clear\", \"slot\", \"end\", 3, \"click\"]],\n      template: function AccountPage_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"ion-header\", 0)(1, \"ion-toolbar\")(2, \"ion-title\");\n          i0.ɵɵtext(3, \"Account\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(4, \"ion-content\", 1)(5, \"ion-header\", 2)(6, \"ion-toolbar\")(7, \"ion-title\", 3);\n          i0.ɵɵtext(8, \"Account\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(9, \"ion-buttons\", 4)(10, \"ion-button\", 5);\n          i0.ɵɵlistener(\"click\", function AccountPage_Template_ion_button_click_10_listener() {\n            return ctx.openHelpModal();\n          });\n          i0.ɵɵelement(11, \"ion-icon\", 6);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(12, \"ion-content\")(13, \"div\")(14, \"h4\");\n          i0.ɵɵtext(15, \"User Details\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(16, \"ion-button\", 7);\n          i0.ɵɵlistener(\"click\", function AccountPage_Template_ion_button_click_16_listener() {\n            return ctx.editUserDetails();\n          });\n          i0.ɵɵtext(17, \"Edit\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(18, \"ion-item\")(19, \"ion-label\");\n          i0.ɵɵtext(20, \"Name:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(21, \"ion-input\", 8);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function AccountPage_Template_ion_input_ngModelChange_21_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.userDetails.name, $event) || (ctx.userDetails.name = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(22, \"ion-item\")(23, \"ion-label\");\n          i0.ɵɵtext(24, \"Email:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(25, \"ion-input\", 9);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function AccountPage_Template_ion_input_ngModelChange_25_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.userDetails.email, $event) || (ctx.userDetails.email = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(26, \"ion-item\")(27, \"ion-label\");\n          i0.ɵɵtext(28, \"Phone:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(29, \"ion-input\", 10);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function AccountPage_Template_ion_input_ngModelChange_29_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.userDetails.phone, $event) || (ctx.userDetails.phone = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(30, \"ion-item\")(31, \"ion-label\");\n          i0.ɵɵtext(32, \"Address:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(33, \"ion-textarea\", 11);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function AccountPage_Template_ion_textarea_ngModelChange_33_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.userDetails.address, $event) || (ctx.userDetails.address = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(34, \"br\")(35, \"br\");\n          i0.ɵɵelementStart(36, \"ion-item\");\n          i0.ɵɵelement(37, \"ion-icon\", 12);\n          i0.ɵɵtext(38, \" \\u00A0 \");\n          i0.ɵɵelementStart(39, \"ion-label\");\n          i0.ɵɵtext(40, \"Manage Addresses \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(41, \"ion-icon\", 13);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(42, \"br\");\n          i0.ɵɵelementStart(43, \"h4\");\n          i0.ɵɵtext(44, \"Past Orders\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(45, \"ion-list\");\n          i0.ɵɵtemplate(46, AccountPage_ion_item_46_Template, 9, 2, \"ion-item\", 14);\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"translucent\", true);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"fullscreen\", true);\n          i0.ɵɵadvance(17);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.userDetails.name);\n          i0.ɵɵadvance(4);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.userDetails.email);\n          i0.ɵɵadvance(4);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.userDetails.phone);\n          i0.ɵɵadvance(4);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.userDetails.address);\n          i0.ɵɵadvance(13);\n          i0.ɵɵproperty(\"ngForOf\", ctx.pastOrders);\n        }\n      },\n      dependencies: [i4.NgForOf, i5.NgControlStatus, i5.NgModel, i1.IonButton, i1.IonButtons, i1.IonContent, i1.IonHeader, i1.IonIcon, i1.IonInput, i1.IonItem, i1.IonLabel, i1.IonList, i1.IonTextarea, i1.IonTitle, i1.IonToolbar, i1.TextValueAccessor]\n    });\n  }\n  return AccountPage;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}