{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/services/resturants.service\";\nimport * as i2 from \"@ionic/angular\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction SearchPage_ion_item_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-item\", 6);\n    i0.ɵɵlistener(\"click\", function SearchPage_ion_item_11_Template_ion_item_click_0_listener() {\n      const restaurant_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.addToCart(restaurant_r2));\n    });\n    i0.ɵɵelementStart(1, \"ion-thumbnail\", 7);\n    i0.ɵɵelement(2, \"img\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ion-label\")(4, \"h2\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const restaurant_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", restaurant_r2.image, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(restaurant_r2.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(restaurant_r2.type);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Rating: \", restaurant_r2.rating, \"\");\n  }\n}\nexport let SearchPage = /*#__PURE__*/(() => {\n  class SearchPage {\n    constructor(resturantService, navCtrl) {\n      this.resturantService = resturantService;\n      this.navCtrl = navCtrl;\n      //Declarations\n      this.filteredRestaurants = [];\n      this.searchQuery = '';\n      this.restaurants = [];\n    }\n    //Search for Restaurant\n    searchRestaurant() {\n      this.filteredRestaurants = this.restaurants.filter(restaurant => restaurant.name.toLowerCase().includes(this.searchQuery.toLowerCase()));\n    }\n    //Load Restaurants from local storage\n    ngOnInit() {\n      this.resturantService.getRestaurants().subscribe(restaurants => {\n        this.restaurants = restaurants;\n      });\n    }\n    // Add Restaurant to Cart as an Order\n    addToCart(restaurant) {\n      const order = {\n        restaurantId: restaurant.id,\n        dish: restaurant.topDish,\n        price: restaurant.price\n      };\n      localStorage.setItem('order', JSON.stringify(order));\n      this.navCtrl.navigateForward('/tabs/cart');\n    }\n    static #_ = this.ɵfac = function SearchPage_Factory(t) {\n      return new (t || SearchPage)(i0.ɵɵdirectiveInject(i1.ResturantsService), i0.ɵɵdirectiveInject(i2.NavController));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: SearchPage,\n      selectors: [[\"app-search\"]],\n      decls: 12,\n      vars: 4,\n      consts: [[3, \"translucent\"], [3, \"fullscreen\"], [\"collapse\", \"condense\"], [\"size\", \"large\"], [3, \"ngModelChange\", \"ionChange\", \"ngModel\"], [3, \"click\", 4, \"ngFor\", \"ngForOf\"], [3, \"click\"], [\"slot\", \"start\"], [3, \"src\"]],\n      template: function SearchPage_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"ion-header\", 0)(1, \"ion-toolbar\")(2, \"ion-title\");\n          i0.ɵɵtext(3, \"Search\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(4, \"ion-content\", 1)(5, \"ion-header\", 2)(6, \"ion-toolbar\")(7, \"ion-title\", 3);\n          i0.ɵɵtext(8, \"Search\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(9, \"ion-searchbar\", 4);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function SearchPage_Template_ion_searchbar_ngModelChange_9_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.searchQuery, $event) || (ctx.searchQuery = $event);\n            return $event;\n          });\n          i0.ɵɵlistener(\"ionChange\", function SearchPage_Template_ion_searchbar_ionChange_9_listener() {\n            return ctx.searchRestaurant();\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(10, \"ion-list\");\n          i0.ɵɵtemplate(11, SearchPage_ion_item_11_Template, 10, 4, \"ion-item\", 5);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"translucent\", true);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"fullscreen\", true);\n          i0.ɵɵadvance(5);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.searchQuery);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngForOf\", ctx.filteredRestaurants);\n        }\n      },\n      dependencies: [i3.NgForOf, i4.NgControlStatus, i4.NgModel, i2.IonContent, i2.IonHeader, i2.IonItem, i2.IonLabel, i2.IonList, i2.IonSearchbar, i2.IonThumbnail, i2.IonTitle, i2.IonToolbar, i2.TextValueAccessor]\n    });\n  }\n  return SearchPage;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}